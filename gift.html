<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Gift Dramatis üíô</title>
<style>
body {
  margin:0; padding:0;
  font-family:'Poppins', sans-serif;
  background: linear-gradient(135deg, #0f1c2e, #1e3a5f, #4f6fa8);
  min-height:100vh;
  color:#e3eeff;
  text-align:center;
  overflow-x:hidden;
  position:relative;
}
body::before{
  content:"";
  position:absolute; top:-25%; left:-25%;
  width:150%; height:150%;
  background: radial-gradient(circle, rgba(115,165,255,0.4), transparent 70%);
  animation: slowGlow 8s infinite alternate ease-in-out;
  z-index:-1;
}
@keyframes slowGlow{from{transform: scale(1);opacity:0.5;} to{transform: scale(1.25);opacity:0.8;}}
h1{margin-top:50px; font-size:2.7rem; font-weight:700;}
p.lead{margin-top:-5px; font-size:1.3rem; opacity:0.9;}

/* Cake */
.cake{width:230px; height:200px; margin:20px auto; position:relative; animation:float 4s ease-in-out infinite;}
@keyframes float{0%,100%{transform:translateY(0);}50%{transform:translateY(-14px);}}
.layer{position:absolute; left:50%; transform:translateX(-50%); border-radius:12px;}
.btm{bottom:0;width:200px;height:70px;background:#07345f;}
.mid{bottom:55px;width:170px;height:54px;background:#0b4f86;}
.top{bottom:105px;width:130px;height:44px;background:#0e67b3;}
.icing{position:absolute; left:50%; transform:translateX(-50%); top:92px; width:160px; height:20px; border-radius:10px; background: linear-gradient(90deg,#fff,#e8f1ff);}
.candles{position:absolute; top:50px; left:50%; transform:translateX(-50%); display:flex; gap:12px;}
.candle{width:10px;height:28px;background:#ffd36a;border-radius:4px;position:relative;}
.flame{width:12px;height:14px;border-radius:50%; background: radial-gradient(circle,#fff7a8,#ffd36a,#ff8a4d); position:absolute; top:-14px; left:50%; transform:translateX(-50%); animation:flicker .22s infinite alternate;}
@keyframes flicker{0%{transform:translateX(-50%) scale(1);}50%{transform:translateX(-50%) scale(1.2);}100%{transform:translateX(-50%) scale(.95);}}

/* Foto */
.photo-container{display:flex; justify-content:center; gap:20px; margin-top:20px;}
.photo-container img{
  width:180px; height:180px; border-radius:20px; object-fit:cover;
  display:none; opacity:0; transform: scale(0) rotate(-45deg);
  transition: transform 1s ease, opacity 1s ease;
}

/* BUTTONS */
.controls{margin-top:18px; display:flex; flex-wrap:wrap; justify-content:center; gap:12px;}
.btn{background:#badcff; color:#0b1930; padding:12px 20px; border-radius:14px; border:none; font-weight:600; cursor:pointer; transition:0.3s; box-shadow:0 0 12px rgba(150,180,255,0.4);}
.btn:hover{transform:scale(1.08); background:#d8e9ff;}

/* Pesan & layout dua kolom */
#message-row{display:flex; justify-content:center; align-items:flex-start; flex-wrap:wrap; gap:30px; margin-top:25px;}
#secretMessage{width:320px; text-align:left; font-size:1.2rem; opacity:0; transition:2s; background: rgba(255,255,255,0.08); padding:20px; border-radius:15px; backdrop-filter: blur(6px);}
#secretMessage b{display:block; margin-bottom:10px;}
#typingText{margin-top:20px; font-size:1.2rem; font-weight:500; white-space:nowrap; overflow:hidden; display:block; border-right:3px solid #ffd36a; width:0;}

/* Confetti, hearts, balloons */
.confetti,.heart,.balloon{position:fixed;pointer-events:none;}
.confetti{width:10px;height:10px;border-radius:2px;}
.heart{font-size:22px;top:-20px;}
.balloon{font-size:28px;bottom:-50px;}

/* Fireworks canvas */
#fx{position:fixed; inset:0; pointer-events:none; z-index:5;}
</style>
</head>
<body>

<h1>üíô Barakallah fii umrik, Sayang üíô</h1>
<p class="lead">Semoga semua doa baik menghampiri kamu hari ini dan seterusnya.</p>

<div class="cake">
  <div class="layer btm"></div>
  <div class="layer mid"></div>
  <div class="layer top"></div>
  <div class="icing"></div>
  <div class="candles">
    <div class="candle"><div class="flame"></div></div>
    <div class="candle"><div class="flame"></div></div>
    <div class="candle"><div class="flame"></div></div>
  </div>
</div>

<div class="controls">
  <button class="btn" id="revealBtn">üéÅ Buka Hadiah</button>
  <button class="btn" id="playBtn">‚ñ∂ Putar Musik</button>
  <button class="btn" id="secretBtn">üíô Pesan Rahasia</button>
</div>

<div id="message-row">
  <div class="photo-container">
    <img id="photo1" src="img.jpg" alt="Foto Spesial 1">
    <img id="photo2" src="img 1.jpg" alt="Foto Spesial 2">
  </div>
  <div id="secretMessage">
    <b>Sayang‚Ä¶ üíô</b>
    <br><br>
    Aku jatuh cinta padamu bukan hanya karena siapa dirimu, tapi karena siapa aku ketika bersamamu.
    <br><br>
    Kamu bikin aku tumbuh, bikin aku ingin jadi versi terbaik dari diriku, dan entah bagaimana‚Ä¶ kamu selalu bikin aku senyum meskipun lagi kesel.
    <br><br>
    Terima kasih sudah jadi seseorang yang ngeselin tapi selalu ngangenin, yang bikin aku marah tapi nggak pernah bisa lama, dan yang bikin aku jatuh cinta ulang-ulang kayak pertama kali.
    <br><br>
    Di hari ulang tahunmu ini, aku cuma ingin kamu tahu‚Ä¶ aku selalu mendoakan kamu dengan cara yang paling lembut.
    Semoga kehidupan kamu selalu dipenuhi kebaikan, ketenangan, dan cinta.
    <br><br>
    <b>I love you more than you ever know üíô</b>
  </div>
</div>

<div id="typingText"></div>
<canvas id="fx"></canvas>

<script>
function rand(min,max){ return Math.random()*(max-min)+min; }

/* MUSIC */
let audioCtx;
function playMelody(){
  if(!audioCtx) audioCtx = new (window.AudioContext||window.webkitAudioContext)();
  const ctx = audioCtx;
  const now = ctx.currentTime;
  const notes = [523,659,784,659,523];
  notes.forEach((f,i)=>{
    const o = ctx.createOscillator();
    const g = ctx.createGain();
    o.type='sine'; o.frequency.value=f;
    g.gain.value=0.0001;
    o.connect(g); g.connect(ctx.destination);
    o.start(now+i*0.25);
    g.gain.exponentialRampToValueAtTime(0.08, now+i*0.25+0.05);
    g.gain.exponentialRampToValueAtTime(0.0001, now+i*0.25+0.2);
    o.stop(now+i*0.25+0.22);
  });
}

/* Confetti, hearts, balloons */
function spawnConfetti(){for(let i=0;i<100;i++){const d=document.createElement('div');d.className='confetti';d.style.left=Math.random()*100+'vw';d.style.background=['#89b7ff','#ffd36a','#7aa6ff','#d6e6ff'][Math.floor(Math.random()*4)];d.style.width=d.style.height=(Math.random()*10+6)+'px';document.body.appendChild(d);setTimeout(()=>d.style.transform=`translateY(${innerHeight+200}px) rotate(${rand(180,720)}deg)`,20);setTimeout(()=>d.remove(),4000);}}
function spawnHearts(){for(let i=0;i<20;i++){const h=document.createElement('div');h.className='heart';h.innerText='üíô';h.style.left=rand(5,95)+'vw';h.style.fontSize=rand(16,32)+'px';document.body.appendChild(h);setTimeout(()=>h.style.transform=`translateY(${innerHeight+200}px)`,20);setTimeout(()=>h.remove(),4000);}}
function spawnBalloons(){for(let i=0;i<12;i++){const b=document.createElement('div');b.className='balloon';b.innerText='üéà';b.style.left=rand(5,95)+'vw';b.style.fontSize=rand(24,36)+'px';document.body.appendChild(b);setTimeout(()=>b.style.transform=`translateY(-${innerHeight+300}px)`,20);setTimeout(()=>b.remove(),5200);}}

/* Fireworks */
const fx=document.getElementById('fx'); const ctxF=fx.getContext('2d');
function resize(){ fx.width=innerWidth; fx.height=innerHeight;} window.onresize=resize; resize();
let parts=[]; function boom(x,y){for(let i=0;i<80;i++){parts.push({x,y,vx:Math.cos(i)*rand(1,4),vy:Math.sin(i)*rand(1,4),life:rand(40,80),color:`hsl(${rand(180,260)},100%,70%)`});}}
function fireworks(){ctxF.clearRect(0,0,fx.width,fx.height); parts.forEach((p,i)=>{p.x+=p.vx; p.y+=p.vy; p.vy+=0.03; p.life--; ctxF.fillStyle=p.color; ctxF.fillRect(p.x,p.y,4,4); if(p.life<=0) parts.splice(i,1);}); requestAnimationFrame(fireworks);}
fireworks();

/* Typing */
async function typeText(el,text,speed=40){el.textContent=""; for(let i=0;i<text.length;i++){el.textContent+=text[i]; await new Promise(r=>setTimeout(r,speed));} el.style.borderRight="0";}

/* BUTTONS */
const revealBtn=document.getElementById("revealBtn");
const playBtn=document.getElementById("playBtn");
const secretBtn=document.getElementById("secretBtn");
const secret=document.getElementById("secretMessage");
const photo1=document.getElementById("photo1");
const photo2=document.getElementById("photo2");
const typing=document.getElementById("typingText");

revealBtn.onclick=async()=>{
  if(audioCtx && audioCtx.state==="suspended") await audioCtx.resume();
  playMelody(); spawnConfetti(); spawnHearts(); spawnBalloons();
  setTimeout(()=> boom(innerWidth/2, innerHeight/2),200);

  // Foto 1 muncul
  photo1.style.display="block";
  setTimeout(()=>{photo1.style.transform="scale(1) rotate(0)"; photo1.style.opacity="1";},100);

  // Foto 2 muncul setelah 1 detik
  setTimeout(()=>{
    photo2.style.display="block";
    photo2.style.transform="scale(1) rotate(0)";
    photo2.style.opacity="1";
  },1000);

  // Pesan muncul setelah foto kedua
  setTimeout(async()=>{
    secret.style.opacity="1";
    await typeText(typing,"Kamu itu spesial‚Ä¶ lebih dari yang kamu bayangkan üíô",35);
  },1800);
};

playBtn.onclick=async()=>{
  if(!audioCtx) audioCtx=new (window.AudioContext||window.webkitAudioContext)();
  if(audioCtx.state==="suspended") await audioCtx.resume();
  playMelody();
};

secretBtn.onclick=()=>{ secret.style.opacity="1"; }

</script>
</body>
</html>
